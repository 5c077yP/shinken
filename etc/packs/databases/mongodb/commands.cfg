# Get the moongodb script at https://raw.github.com/mzupan/nagios-plugin-mongodb/master/check_mongodb.py

# Warn at 2s connection, crit at 4.
define command {
       command_name     check_mongodb_connection
       command_line	$PLUGINSDIR$/check_mongodb.py -H $HOSTADDRESS$ -P 27017 -A connect -W 2 -c 4
}


# % of open connection
define command {
       command_name     check_mongodb_open_connections
       command_line	$PLUGINSDIR$/check_mongodb.py -H $HOSTADDRESS$ -P 27017 -A connections -W 70 -c 80
}


# Replication lag. Warn at 15, crit at 30
define command {
       command_name     check_mongodb_replication_lag
       command_line	$PLUGINSDIR$/check_mongodb.py -H $HOSTADDRESS$ -P 27017 -A replication_lag -W 15 -c 30
}

# % time wher the db is lock
define command {
       command_name     check_mongodb_lock_time
       command_line	$PLUGINSDIR$/check_mongodb.py -H $HOSTADDRESS$ -P 27017 -A lock -W 5 -c 10
}

