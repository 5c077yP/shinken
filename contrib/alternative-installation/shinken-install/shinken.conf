#!/bin/bash
export TMP=/tmp
# for shinken
export VERSION="0.6.5"
export TARGET=/opt/shinken
export BACKUPDIR="/opt/backup"
export SKUSER=shinken
export SKGROUP=shinken
export KEEPDAYSLOG=7
# for thruk addon
export THRUKUSER=thruk
export THRUKGRP=thruk
export THRUKVERS="1.0.7" # specify SRC if you want to build thruk
export THRUKDIR="/opt/thruk"
export PWDSALT="!ù*m!^¨1192ddDgHnvø"
# for multisite addon
export CMKTARGET="/opt/check_mk"
# for pnp addon
export PNPTARGET=/opt/pnp4nagios
# for nagvis addon 
export NAGTARGET=/opt/nagvis
# apache
export WWWUSER="apache"
export WWWGROUP="apache"
export WWWCONF="/etc/httpd/conf.d"

# DO NOT MODIFY THIS 
export DISTROS="REDHAT:5 REDHAT:6 DEBIAN"
export DATE=$(date +%Y%m%d%H%M%S)
export GIT="https://github.com/naparuba/shinken.git"
export THRUKGIT="http://github.com/sni/Thruk.git"

export ARCH=$(uname -i)
export DIST=$(/usr/bin/lsb_release -i | awk '{print $NF}')
export VERS=$(/usr/bin/lsb_release -r | awk '{print $NF}' | awk -F. '{print $1}')
export EPELVERS="5-4"

case $DIST in 
	CentOS)
		export CODE="REDHAT"
		;;
	RedHatEnterpriseServer)
		export CODE="REDHAT"
		;;
	Debian)
		export CODE="DEBIAN"
		;;
	Ubuntu)
		export CODE="DEBIAN"
		;;
	*)
		export CODE=""
		;;
esac



if [ "$CODE" = "REDHAT" ]
then
	#export RPMFORGENAME="rpmforge-release-$RPMFORGEVERS.el$VERS.rf"
	#export RPMFORGEPKG="$RPMFORGENAME.$ARCH.rpm"
	#export RPMFORGE="http://packages.sw.be/rpmforge-release/$RPMFORGEPKG"
	export EPELNAME="epel-release"
	export EPELPKG="${EPELNAME}-${EPELVERS}.noarch.rpm"
	export EPEL="http://download.fedoraproject.org/pub/epel/$VERS/$ARCH/$EPELPKG"
fi

#echo "+-------------------------------------------+" 
#echo "| $DIST $VERS $ARCH" 
#echo "| $CODE"          
#echo "| $RPMFORGE" 
#echo "+-------------------------------------------+" 

#export YUMPKGS="gcc python-setuptools sqlite-devel python-devel git"

if [ "$CODE" = "REDHAT" ]
then
	if [ "$VERS" = "5" ]
	then
		export YUMPKGS="gcc python26 sqlite-devel python26-devel git"
	fi

	if [ "$VERS" = "6" ]
	then
		export YUMPKGS="gcc python sqlite-devel python-devel git"
	fi
fi
export SETUPTOOLSVERS="0.6c11"
export RHELSETUPTOOLS="http://pypi.python.org/packages/source/s/setuptools/setuptools-$SETUPTOOLSVERS.tar.gz"
export APTPKGS="build-essential libperl-dev python-setuptools libsqlite3-dev python-dev pyro"
export PYLIBSRHEL="multiprocessing:multiprocessing simplejson:simplejson pysqlite:sqlite3 PyMySQL:pymysql pyro:Pyro.core"
export PYLIBSRHEL6="simplejson:simplejson pysqlite:sqlite3 PyMySQL:pymysql pyro:Pyro.core"
export PYLIBSDEB="pyro:Pyro.core simplejson:simplejson pysqlite:sqlite PyMySQL:pymysql"
export PYRO="http://pypi.python.org/packages/source/P/Pyro/Pyro-3.12.tar.gz"

export TYUMPKGS="gd libXpm httpd httpd-devel libtool"
export TDEBPKGS=""
